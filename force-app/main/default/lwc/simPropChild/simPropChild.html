<template>

  <div class="slds-media">
    <div class="slds-media__figure">
      <img src={theitem.Thumbnail__c} class="slds-avatar_large slds-avatar_circle" alt={theitem.Title_c} />
      </div>
      <div class="slds-media__body">
        <div class="slds-grid slds-hint-parent">
          <a onclick={navigateToRecord}>
              <h3 class="slds-text-heading_small slds-m-bottom_xx-small">{theitem.Name}</h3>
            </a>
          <lightning-button-icon icon-name="utility:edit"
                                 class="slds-col_bump-left"
                                 icon-class="slds-button__icon_hint"
                                 variant="bare"
                                 alternative-text="Edit Record"
                                 onclick={editRecord}></lightning-button-icon>
        </div>
        <template if:false={editMode}>
          <lightning-record-view-form object-api-name="Property__c"
                                      record-id={theitem.Id}>
            <div class="slds-grid slds-wrap">
              <div class="slds-size_1-of-2">
                <lightning-output-field field-name="Price__c"></lightning-output-field>
              </div>
              <div class="slds-size_1-of-2">
                <lightning-output-field field-name="Beds__c"></lightning-output-field>
              </div>
              <div class="slds-size_1-of-2">
                <lightning-output-field field-name="Baths__c"></lightning-output-field>
              </div>
              <div class="slds-size_1-of-2">
                <lightning-output-field field-name="Status__c"></lightning-output-field>
              </div>
              <div class="slds-size_1-of-1">
                <lightning-output-field field-name="Broker__c"></lightning-output-field>
              </div>
            </div>
          </lightning-record-view-form>
        </template>
        <template if:true={editMode}>
          <lightning-record-edit-form object-api-name="Property__c"
                                      record-id={theitem.Id}
                                      onsuccess={handleSuccess}>
            <div class="slds-grid slds-wrap">
              <div class="slds-size_1-of-2">
                <lightning-input-field field-name="Price__c"></lightning-input-field>
              </div>
              <div class="slds-size_1-of-2">
                <lightning-input-field field-name="Beds__c"></lightning-input-field>
              </div>
              <div class="slds-size_1-of-2">
                <lightning-input-field field-name="Baths__c"></lightning-input-field>
              </div>
              <div class="slds-size_1-of-2">
                <lightning-input-field field-name="Status__c"></lightning-input-field>
              </div>
              <div class="slds-size_1-of-1">
                <lightning-input-field field-name="Broker__c"></lightning-input-field>
              </div>
              <div class="slds-m-top_large slds-grid slds-grid_align-center">
                <lightning-button variant="neutral"
                                  label="Cancel"
                                  title="Cancel"
                                  type="text"
                                  onclick={handleCancel}></lightning-button>
                <lightning-button variant="brand"
                                  label="Submit"
                                  title="Submit"
                                  type="submit"></lightning-button>
              </div>
            </div>
          </lightning-record-edit-form>
        </template>
      </div>
    </div>

</template>